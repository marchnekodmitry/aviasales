(window.webpackJsonpaviasales=window.webpackJsonpaviasales||[]).push([[0],{60:function(n,e,t){n.exports=t(75)},71:function(n,e,t){n.exports=t.p+"static/media/checkbox.ebdd84bf.svg"},72:function(n,e,t){n.exports=t.p+"static/media/checkbox-active.fc4db7ee.svg"},73:function(n,e,t){n.exports=t.p+"static/media/logo.96990a1b.svg"},75:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),c=t(31),o=t.n(c),u=t(17),i=t(5),l=t(6),s=function(n){return{type:"TICKETS_FETCH_SUCCEEDED",payload:n}},p=function(n){return{type:"TICKETS_FETCH_FAILED",payload:n}};function f(){var n=Object(i.a)(["\n  position: relative;\n  padding-left: 30px;\n\n  ::before {\n    content: '';\n    position: absolute;\n    left: 0;\n    width: 20px;\n    height: 20px;\n    background-image: url(",");\n  }\n  input:checked + & {\n    ::before {\n      background-image: url(",");\n    }\n  }\n"]);return f=function(){return n},n}function d(){var n=Object(i.a)(["\n  display: flex;\n  align-items: center;\n  padding: 10px 20px;\n  cursor: pointer;\n"]);return d=function(){return n},n}function b(){var n=Object(i.a)(["    \n  :hover {\n    background: #F1FCFF;\n  }\n"]);return b=function(){return n},n}function m(){var n=Object(i.a)(["\n  margin: 0;\n  padding: 0;\n  list-style: none;\n  \n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: normal;\n  font-size: 13px;\n  line-height: 20px;\n"]);return m=function(){return n},n}function h(){var n=Object(i.a)(["\n  margin: 0 0 10px 0;\n  padding: 0 20px;\n  font-family: 'Open Sans';\n  font-style: normal;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 12px;\n  letter-spacing: 0.5px;\n  text-transform: uppercase;\n  color: #4A4A4A;\n"]);return h=function(){return n},n}function g(){var n=Object(i.a)(["\n  padding: 20px 0 10px 0;\n  background-color: #FFFFFF;\n  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\n  border-radius: 5px;\n  \n  .visually-hidden {\n    position: absolute;\n    clip: rect(0 0 0 0);\n    width: 1px;\n    height: 1px;\n    margin: -1px;\n  }\n"]);return g=function(){return n},n}var x=l.b.div(g()),v=l.b.p(h()),E=l.b.ul(m()),O=l.b.li(b()),y=l.b.label(d()),k=l.b.div(f(),t(71),t(72)),F=Object(u.b)(function(n){return{transferCount:n.sort.transferCount}},function(n){return{transferCountHandler:function(e){return n(function(n){return{type:"CHANGE_TRANSFER_COUNT",payload:n.target.getAttribute("data-count")}}(e))}}})(function(n){var e=n.transferCount,t=n.transferCountHandler,r=function(n){var e=n.dataCount,r=n.checked,c=n.children;return a.a.createElement(O,{className:"item"},a.a.createElement(y,null,a.a.createElement("input",{type:"checkbox","data-count":e,onChange:function(n){return t(n)},checked:r,className:"visually-hidden"}),a.a.createElement(k,{className:"checkbox-text"},c)))};return a.a.createElement(x,null,a.a.createElement(v,null,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"),a.a.createElement(E,null,a.a.createElement(r,{dataCount:"all",checked:e.all},"\u0412\u0441\u0435"),a.a.createElement(r,{dataCount:"0",checked:e[0]},"0 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"),a.a.createElement(r,{dataCount:"1",checked:e[1]},"1 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430"),a.a.createElement(r,{dataCount:"2",checked:e[2]},"2 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438"),a.a.createElement(r,{dataCount:"3",checked:e[3]},"3 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438")))});function j(){var n=Object(i.a)(["\n  padding: 15px 57px;\n  border: 1px solid #DFE5EC;\n  background-color: #FFFFFF;\n  color: #4A4A4A;\n  \n  input:checked + & {\n    background-color: #2196F3;\n    color: #FFFFFF;\n  }\n"]);return j=function(){return n},n}function w(){var n=Object(i.a)(["\n  cursor: pointer;\n  \n  :first-child .input-text {\n    border-radius: 8px 0 0 8px;\n  }\n  :last-child .input-text {\n    border-radius: 0 8px 8px 0;\n  }\n"]);return w=function(){return n},n}function T(){var n=Object(i.a)(["\n  display: flex;\n  margin-bottom: 20px;\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 20px;\n  letter-spacing: 0.5px;\n  text-transform: uppercase;\n  color: #FFFFFF;overflow: hidden;\n  \n  \n  .visually-hidden {\n    position: absolute;\n    clip: rect(0 0 0 0);\n    width: 1px;\n    height: 1px;\n    margin: -1px;\n  }\n"]);return T=function(){return n},n}var C=l.b.div(T()),S=l.b.label(w()),_=l.b.div(j()),A=Object(u.b)(function(n){return{sortType:n.sort.sortType}},function(n){return{sortTypeHandler:function(e){return n(function(n){return{type:"CHANGE_SORT_TYPE",payload:n.target.getAttribute("data-sort")}}(e))}}})(function(n){var e=n.sortType,t=n.sortTypeHandler,r=function(n){var e=n.dataSort,r=n.children,c=n.checked;return a.a.createElement(S,null,a.a.createElement("input",{name:"sort",type:"radio","data-sort":e,checked:c,onChange:function(n){return t(n)},className:"visually-hidden"}),a.a.createElement(_,{className:"input-text"},r))};return a.a.createElement(C,null,a.a.createElement(r,{dataSort:"cheap",checked:e.cheap},"\u0421\u0430\u043c\u044b\u0439 \u0434\u0435\u0448\u0435\u0432\u044b\u0439"),a.a.createElement(r,{dataSort:"fast",checked:e.fast},"\u0421\u0430\u043c\u044b\u0439 \u0431\u044b\u0441\u0442\u0440\u044b\u0439"))}),I=t(34),D=t(35),H=t(59),N=t(50),R=t(56),P=t(53),q=t(77),z=t(52),K=t(13),U=t(58),B=t(78),G=t(84),M=t(79),Q=t(80),J=t(36),L=t(81),Y=t(82),V=t(83),W=t(86),X=t(27),Z=t(85),$=t(43),nn=t(51),en=t.n(nn),tn=function(n){return P.a(q.a(z.a)(n),K.a(n))},rn=Object($.a)([function(n){return n.tickets},function(n){return n.sort.transferCount}],function(n,e){if(e.all)return n;var t=U.a(function(n){return parseInt(n)},tn(e)),r=function(n){return B.a(n.length,t)},a=G.a([M.a(r,["segments",0,"stops"]),M.a(r,["segments",1,"stops"])]);return P.a(a)(n)}),an=Object($.a)([rn,function(n){return n.sort.sortType}],function(n,e){switch(tn(e)[0]){case"cheap":return Q.a(z.a("price"))(n);case"fast":return Q.a((t=J.a(["segments",0,"duration"]),r=J.a(["segments",1,"duration"]),function(n){return t(n)+r(n)}))(n);default:return n}var t,r}),cn=U.a(function(n){return L.a("hash",en()(n),n)}),on=Y.a(function(n,e,t){return"tickets"===n?V.a(e,t):t}),un=W.a(", ");function ln(){var n=Object(i.a)(["\n  width: 100%;\n  th {\n    width: 33%;\n    font-family: Open Sans;\n    font-style: normal;\n    font-weight: 600;\n    font-size: 12px;\n    line-height: 18px;\n    letter-spacing: 0.5px;\n    text-transform: uppercase;\n    color: #A0B0B9;\n  }\n  \n  td {\n    font-family: Open Sans;\n    font-style: normal;\n    font-weight: 600;\n    font-size: 14px;\n    line-height: 21px;\n    color: #4A4A4A;\n  }\n"]);return ln=function(){return n},n}function sn(){var n=Object(i.a)(["\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 20px;\n  \n  p {\n    margin: 0;\n  }\n  \n  .price {\n    font-family: Open Sans;\n    font-style: normal;\n    font-weight: 600;\n    font-size: 24px;\n    line-height: 24px;\n    color: #2196F3;\n  }\n  \n  .company {\n    font-family: Open Sans;\n    font-style: normal;\n    font-weight: 600;\n    font-size: 24px;\n    line-height: 24px;\n  }\n"]);return sn=function(){return n},n}function pn(){var n=Object(i.a)(["\n  margin-bottom: 20px;\n  padding: 20px;\n  background: #FFFFFF;\n  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\n  border-radius: 5px;\n"]);return pn=function(){return n},n}var fn=l.b.li(pn()),dn=l.b.div(sn()),bn=l.b.table(ln()),mn=function(n){var e=n.ticket,t=e.price,c=e.carrier,o=e.segments,u=function(n){return a.a.createElement(r.Fragment,null,a.a.createElement("tr",null,a.a.createElement("th",null,o[n].origin," - ",o[n].destination),a.a.createElement("th",null,"\u0412 \u043f\u0443\u0442\u0438"),a.a.createElement("th",null,function(n){var e=n.length;switch(e){case 1:return"".concat(e," \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430");case 2:case 3:case 4:return"".concat(e," \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438");case 5:case 6:case 7:case 8:case 9:case 0:return"".concat(e," \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a");default:return"".concat(e," \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430")}}(o[n].stops))),a.a.createElement("tr",null,a.a.createElement("td",null,function(n,e){var t=/T\d\d:\d\d/.exec(n)[0].slice(1),r=parseInt(t.slice(3))+60*parseInt(t.slice(0,2))+e,a="0".concat(Math.floor(r/60)%24).slice(-2),c="0".concat(r%60).slice(-2);return"".concat(t," - ").concat(a,":").concat(c)}(o[n].date,o[n].duration)),a.a.createElement("td",null,(e=o[n].duration,"".concat(Math.floor(e/60),"\u0447 ").concat(e%60,"\u043c"))),a.a.createElement("td",null,un(o[n].stops))));var e};return a.a.createElement(fn,null,a.a.createElement(dn,null,a.a.createElement("p",{className:"price"},function(n){var e=X.a(n);return"".concat(Z.a(0,-3,e)," ").concat(Z.a(-3,1/0,e)," \u0420")}(t)),a.a.createElement("p",{className:"company"},c)),a.a.createElement(bn,null,a.a.createElement("tbody",null,u(0),u(1))))};function hn(){var n=Object(i.a)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background-color: rgba(255, 255, 255, .7);\n"]);return hn=function(){return n},n}function gn(){var n=Object(i.a)(["position: relative;"]);return gn=function(){return n},n}function xn(){var n=Object(i.a)(["\n  position: absolute;\n  left: calc(50% - 10px);\n  top: calc(50% - 10px);\n\n  width: 20px;\n  height: 20px;\n  background-color: #2196F3;\n  animation: "," 2s ease-in-out infinite;\n"]);return xn=function(){return n},n}function vn(){var n=Object(i.a)(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]);return vn=function(){return n},n}var En=Object(l.c)(vn()),On=l.b.div(xn(),En),yn=l.b.div(gn()),kn=l.b.div(hn()),Fn=function(){return a.a.createElement(kn,null,a.a.createElement(On,null))},jn=function(n){var e=n.loading,t=n.children;return a.a.createElement(yn,null,t,e?a.a.createElement(Fn,null):null)};function wn(){var n=Object(i.a)(["\n  color: #FFFFFF;\n"]);return wn=function(){return n},n}function Tn(){var n=Object(i.a)(["\n  position: fixed;\n  left: 0;\n  bottom: 0;\n  padding: 10px;\n  background-color: tomato;\n  border-radius: 0 10px 0 0;\n  \n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: 400;\n  font-size: 12px;\n  line-height: 20px;\n  letter-spacing: 0.5px;\n  color: #FFFFFF;\n"]);return Tn=function(){return n},n}var Cn=l.b.div(Tn()),Sn=l.b.a(wn()),_n=function(n){var e=n.requestData;return a.a.createElement(Cn,null,"\u041e\u0448\u0438\u0431\u043a\u0430: \u043d\u0435 \u0432\u0441\u0435 \u0431\u0438\u043b\u0435\u0442\u044b \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u044b. ",a.a.createElement(Sn,{href:"request",onClick:function(n){return e(n)}},"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0441\u043d\u043e\u0432\u0430"))},An=function(n){var e=n.error,t=n.children,c=n.requestFunc;return a.a.createElement(r.Fragment,null,t,e?a.a.createElement(_n,{requestData:function(n){n.preventDefault(),c()}}):null)};function In(){var n=Object(i.a)(["\n  min-height: 180px;\n  margin: 0;\n  padding: 0;\n  list-style: none;\n"]);return In=function(){return n},n}var Dn=l.b.ul(In()),Hn=function(n){var e=n.tickets;return a.a.createElement(Dn,null,e.slice(0,5).map(function(n){return a.a.createElement(mn,{ticket:n,key:n.hash})}))},Nn=function(n){function e(){return Object(I.a)(this,e),Object(H.a)(this,Object(N.a)(e).apply(this,arguments))}return Object(R.a)(e,n),Object(D.a)(e,[{key:"componentDidMount",value:function(){this.props.fetchTicketsRequest()}},{key:"render",value:function(){var n=this.props,e=n.tickets,t=n.loading,r=n.error;return a.a.createElement(An,{error:r,requestFunc:this.props.fetchTicketsRequest},a.a.createElement(jn,{loading:t},a.a.createElement(Hn,{tickets:e})))}}]),e}(r.Component),Rn=Object(u.b)(function(n){return{tickets:an(n),loading:n.loading,error:n.error}},function(n){return{fetchTicketsRequest:function(){return n({type:"TICKETS_FETCH_REQUESTED"})}}})(Nn);function Pn(){var n=Object(i.a)(["\n  display: block;\n  margin: 0 auto;\n  padding: 50px 0;\n"]);return Pn=function(){return n},n}var qn=l.b.img(Pn()),zn=function(){return a.a.createElement("header",null,a.a.createElement(qn,{src:t(73),alt:"logo"}))};function Kn(){var n=Object(i.a)(["\n  \n"]);return Kn=function(){return n},n}function Un(){var n=Object(i.a)(["\n  width: 30%;\n  min-width: 232px;\n  padding-right: 20px;\n"]);return Un=function(){return n},n}function Bn(){var n=Object(i.a)(["\n  display: flex;\n  max-width: 755px;\n  margin: 0 auto;\n"]);return Bn=function(){return n},n}var Gn=l.b.div(Bn()),Mn=l.b.div(Un()),Qn=l.b.div(Kn()),Jn=function(n){var e=n.left,t=n.right,c=n.top;return a.a.createElement(r.Fragment,null,c,a.a.createElement(Gn,null,a.a.createElement(Mn,null,e),a.a.createElement(Qn,null,t)))};function Ln(){var n=Object(i.a)(["\n  @import url('https://fonts.googleapis.com/css?family=Open+Sans:400,600&display=swap&subset=cyrillic');\n  body {\n    background: #F3F7FA;\n  }\n"]);return Ln=function(){return n},n}var Yn=Object(l.a)(Ln()),Vn=function(){return a.a.createElement(r.Fragment,null,a.a.createElement(Yn,null),a.a.createElement(Jn,{top:a.a.createElement(zn,null),left:a.a.createElement(F,null),right:a.a.createElement(r.Fragment,null,a.a.createElement(A,null),a.a.createElement(Rn,null))}))},Wn=An,Xn=t(20),Zn=t(54),$n=t(30);function ne(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),t.push.apply(t,r)}return t}function ee(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?ne(t,!0).forEach(function(e){Object($n.a)(n,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ne(t).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))})}return n}var te={tickets:[],sort:{transferCount:{all:!0,0:!1,1:!1,2:!1,3:!1},sortType:{cheap:!0,fast:!1}},loading:!1,error:!1},re=function(){var n,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_TRANSFER_COUNT":return ee({},e,{sort:ee({},e.sort,{transferCount:ee({},e.sort.transferCount,Object($n.a)({},t.payload,!e.sort.transferCount[t.payload]))})});case"CHANGE_SORT_TYPE":return ee({},e,{sort:ee({},e.sort,{sortType:ee({},e.sort.sortType,(n={},Object($n.a)(n,tn(e.sort.sortType),!1),Object($n.a)(n,t.payload,!0),n))})});case"TICKETS_FETCH_REQUESTED":return ee({},e,{loading:!0});case"TICKETS_FETCH_SUCCEEDED":return ee({},e,{tickets:cn(t.payload),loading:!1});case"TICKETS_FETCH_FAILED":return ee({},e,{tickets:cn(t.payload),loading:!1,error:!1});default:return e}},ae=t(11),ce=t.n(ae),oe=t(45),ue=t(21),ie=t(44),le=new(function(){function n(){var e=this;Object(I.a)(this,n),this._apiBase="https://front-test.beta.aviasales.ru/",this.getSearchId=Object(ie.a)(ce.a.mark(function n(){var t;return ce.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.getResource("search");case 2:t=n.sent,e.searchId=t.searchId;case 4:case"end":return n.stop()}},n)})),this.getTickets=function(){return e.getResource("tickets?searchId=".concat(e.searchId))}}return Object(D.a)(n,[{key:"getResource",value:function(){var n=Object(ie.a)(ce.a.mark(function n(e){var t;return ce.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(this._apiBase).concat(e));case 2:if((t=n.sent).ok){n.next=6;break}throw console.error("Could not fetch ".concat(e,", received ").concat(t.status)),new Error;case 6:return n.next=8,t.json();case 8:return n.abrupt("return",n.sent);case 9:case"end":return n.stop()}},n,this)}));return function(e){return n.apply(this,arguments)}}()}]),n}()),se=ce.a.mark(de),pe=ce.a.mark(be),fe=ce.a.mark(me);function de(){var n,e,t,r,a,c;return ce.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:n=!1,e=[],t=!1,o.prev=1;case 2:if(n){o.next=12;break}return o.next=5,Object(ue.b)(le.getTickets);case 5:r=o.sent,a=r.tickets,c=r.stop,n=c,e=[].concat(Object(oe.a)(e),Object(oe.a)(a)),o.next=2;break;case 12:o.next=17;break;case 14:o.prev=14,o.t0=o.catch(1),t=!0;case 17:return o.prev=17,o.abrupt("return",{tickets:e,error:t});case 20:case"end":return o.stop()}},se,null,[[1,14,17,20]])}function be(){var n,e,t;return ce.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,Object(ue.d)("TICKETS_FETCH_REQUESTED");case 3:return n={},e=0,r.prev=4,r.next=7,Object(ue.b)(le.getSearchId);case 7:return r.next=9,de();case 9:t=r.sent,n=on(n,t),e++;case 12:if(n.error&&e<5){r.next=7;break}case 13:if(!n.error){r.next=18;break}return r.next=16,Object(ue.c)(p(n.tickets));case 16:r.next=20;break;case 18:return r.next=20,Object(ue.c)(s(n.tickets));case 20:r.next=25;break;case 22:r.prev=22,r.t0=r.catch(4),console.error(r.t0);case 25:r.next=0;break;case 27:case"end":return r.stop()}},pe,null,[[4,22]])}function me(){return ce.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(ue.a)([be()]);case 2:case"end":return n.stop()}},fe)}var he=me,ge=Object(Zn.a)(),xe=Object(Xn.d)(re,Object(Xn.a)(ge));ge.run(he);var ve=xe;o.a.render(a.a.createElement(u.a,{store:ve},a.a.createElement(Wn,null,a.a.createElement(Vn,null))),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.29549f38.chunk.js.map